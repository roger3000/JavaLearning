package com.eric.java.ericzone.action.mgt;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import com.eric.java.basecontainer.basetool.PaginationFunc;
import com.eric.java.basecontainer.baseweb.EricAction;

public class MgtLogQueryAction extends EricAction {
private static final long serialVersionUID = -8824161696192462563L;
	
	private List mlogList = new ArrayList();
	
	private int page = -1;
	
	private int maxRowCount = -1;
	
	private int maxPage = -1;
	
	private int pageSize = 15 ;
	
	private String u_page ;
	
	
	public String execute() throws Exception {
		
		if (this.page==-1)page = 1;
		
		Map<String,String> queryMap = new HashMap<String,String>();
		
		int mlogListSize = this.getmLogAware().getRegionMlogListSizeByQueryMap(queryMap, this.getManage().getmRegionCode());
		
        //分页
		this.u_page = "true";
		if(u_page!=null && u_page.trim().length()>0){
			queryMap.put("pageSize", String.valueOf(pageSize));
			queryMap.put("page", String.valueOf(page));
		}
		
		mlogList = this.getmLogAware().getRegionMlogListByQueryMap(queryMap, this.getManage().getmRegionCode());
		
		this.maxRowCount= mlogListSize;// 得到最大行数
        this.maxPage=PaginationFunc.getMaxPage(maxRowCount, pageSize); // 得到最大分页数
        
		return INPUT;
	}


	public List getMlogList() {
		return mlogList;
	}


	public void setMlogList(List mlogList) {
		this.mlogList = mlogList;
	}


	public int getPage() {
		return page;
	}


	public void setPage(int page) {
		this.page = page;
	}


	public int getMaxRowCount() {
		return maxRowCount;
	}


	public void setMaxRowCount(int maxRowCount) {
		this.maxRowCount = maxRowCount;
	}


	public int getMaxPage() {
		return maxPage;
	}


	public void setMaxPage(int maxPage) {
		this.maxPage = maxPage;
	}


	public int getPageSize() {
		return pageSize;
	}


	public void setPageSize(int pageSize) {
		this.pageSize = pageSize;
	}


	public String getU_page() {
		return u_page;
	}


	public void setU_page(String u_page) {
		this.u_page = u_page;
	}
	
   
	
}
