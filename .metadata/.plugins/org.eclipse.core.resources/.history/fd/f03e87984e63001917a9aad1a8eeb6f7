package day03;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.RandomAccessFile;
import java.util.Scanner;

/**
 * 完成用户注册功能
 * 程序启动后，要求该用户输入注册信息
 * 格式如：
 * 刘苍松，55，男，5000.2008-08-04
 * 然后将该用户的信息输入到emp.dat
 * @author roger
 *
 */
public class Test03 {
	public static void main(String[] args) throws IOException {
		RandomAccessFile raf = 
				new RandomAccessFile("emp.dat", "rw");
		boolean flag = true;
		String regex = 
				"[\\u4e00-\\u9fa5]{0,}"

				+ ".+";
		Scanner sc = new Scanner(System.in);
		while(flag) {

			System.out.println("请输入注册信息：");
			String str = sc.nextLine();
			
			if(str.matches(regex)) {
				flag = false;
				raf.writeUTF(str);
				System.out.println("注册成功");
			}else {
				System.out.println("输入格式有误，请重新输入");
			}
		}
		
		sc.close();
		raf.close();
	}
}
