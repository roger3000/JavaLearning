package com.eric.java.ericzone.action.mgt;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import com.eric.java.basecontainer.basetool.PaginationFunc;
import com.eric.java.basecontainer.baseweb.EricAction;

public class MgtLogQueryAction extends EricAction {
	
	
	private static final long serialVersionUID = -7915924812566781544L;

	private List mlogList = new ArrayList();
	
	private String mLogOptUserCode;
	
//	private String mLogTypeName;
	
	private String mLogOptType;
	
	private int page = -1;
	
	private int maxRowCount = -1;
	
	private int maxPage = -1;
	
	private int pageSize = 15;
	
	private String u_page;
	
	public String excute() throws Exception{
		if (this.page == -1) page = -1;
		
		Map<String,String> queryMap = new HashMap<String,String>();
		if(mLogOptType != null && mLogOptType.trim().length()>0){
			queryMap.put("mLogOptUserCode", mLogOptUserCode);
		}
//		if(mLogTypeName != null && mLogTypeName.trim().length()>0){
//			queryMap.put("mLogTypeName", mLogTypeName);
//		}
		if(mLogOptUserCode != null && mLogOptUserCode.trim().length()>0){
			queryMap.put("mLogOptUserCode", mLogOptUserCode);
		}
		
		mlogList = this.getmLogAware().getRegionMlogListByQueryMap(queryMap, this.getManage().getmRegionCode());
		
		int logSize = this.getmLogAware().getRegionMlogListSizeByQueryMap(queryMap, this.getManage().getmRegionCode());
		
		this.maxPage = PaginationFunc.getMaxPage(maxRowCount, pageSize);
		this.maxRowCount = logSize;
		
		return INPUT;
	}

	public List getMlogList() {
		return mlogList;
	}

	public void setMlogList(List mlogList) {
		this.mlogList = mlogList;
	}

	public String getmLogOptUserCode() {
		return mLogOptUserCode;
	}

	public void setmLogOptUserCode(String mLogOptUserCode) {
		this.mLogOptUserCode = mLogOptUserCode;
	}

//	public String getmLogTypeName() {
//		return mLogTypeName;
//	}
//
//	public void setmLogTypeName(String mLogTypeName) {
//		this.mLogTypeName = mLogTypeName;
//	}

	public String getmLogOptType() {
		return mLogOptType;
	}

	public void setmLogOptType(String mLogOptType) {
		this.mLogOptType = mLogOptType;
	}

	public int getPage() {
		return page;
	}

	public void setPage(int page) {
		this.page = page;
	}

	public int getMaxRowCount() {
		return maxRowCount;
	}

	public void setMaxRowCount(int maxRowCount) {
		this.maxRowCount = maxRowCount;
	}

	public int getMaxPage() {
		return maxPage;
	}

	public void setMaxPage(int maxPage) {
		this.maxPage = maxPage;
	}

	public int getPageSize() {
		return pageSize;
	}

	public void setPageSize(int pageSize) {
		this.pageSize = pageSize;
	}

	public String getU_page() {
		return u_page;
	}

	public void setU_page(String u_page) {
		this.u_page = u_page;
	}
	
	
}
